<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta name="last modified" content="27/09/2021 12:47:24"><meta name=abstract content><meta name=author content="dpavel@vmware.com"><meta name=primary-product-name content="MD2Docs-TestBed"><meta name=primary-product-version content="1"><meta name=description content><meta name=guid content="GUID-1Intro"><meta name=language content="en"><meta name=title content="Basic Markdown"><meta name=publication-author content="dpavel@vmware.com"><meta property="og:title" content="Basic Markdown"><meta property="og:image" content="https://docs-uat.vmware.com/uicontent/images/vmware-docs-default.png"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:locale" content="en"><meta property="og:url" content="https://docs-uat-staging.vmware.com/en/MD2Docs-TestBed/1/md-2-docs-test-bed/GUID-1Intro.html"><meta name=cdf-utag content="https://tags.tiqcdn.com/utag/vmware/cdf-privacy/qa/utag.js"><link rel=stylesheet type=text/css href=/css/commonltr.css><link rel=stylesheet type=text/css href=/css/non-draft.vmware.productdocs.css><link rel=canonical href=https://docs-uat-staging.vmware.com/en/MD2Docs-TestBed/1/md-2-docs-test-bed/GUID-1Intro.html><link class=user href=/css/responsive.css rel=stylesheet type=text/css><link rel=icon href=https://www.vmware.com/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/v2-global.20200911172508.css><title>Docs Preview</title></head><body><header class=tech-pub-header><div id=header class="global-header col-12"><div class="row desktop-header h-100"><div class="col col-md-3 align-self-center header-logo-wrapper"><div class="d-inline-flex align-items-center justify-content-start w-100"><div class="d-inline-flex align-items-center w-100"><span class="my-auto d-md-none header-menu-icon"><i class="fa fa-bars"></i></span><h1><a href=https://docs-uat-staging.vmware.com/ class="d-inline-flex align-items-center my-auto nav-link header-logo-url pl-md-1 pl-xl-3"><span class=mr-2><img src=/img/vm-logo.png alt="VMware Logo"></span>
<span class=vm-logo-title>Docs Preview</span></a></h1></div><div class=align-items-center><span id=toggleTOC class="d-md-none header-toc-icon"><i class="fa fa-ellipsis-v px-2"></i></span></div></div></div></div></div><div class="col-12 vmware-gradient w-100 px-0 mx-0"></div></header><div class="tech-pub-container main-container d-flex flex-column pubView"><section class="tech-pub-section d-flex flex-md-row"><div class="lhs lhs-container col-md-4 col-lg-3" style=display:block><div class=backdrop></div><div class=left-panel><div class="panel-header position-relative hidden-xs"><div class="panel-header-left d-flex justify-content-between align-items-center"><span class=container-collapse-expand><span id=expand-all-id class=expand-tree onclick=expandAll()><span class="lhs-expand-shape align-middle"><i class="fa fa-chevron-down"></i></span>
<span class="expand-text align-middle" data-i18n data-i18n-expand-all>Expand All</span></span>
<span id=collapse-all-id class="collapse-tree hide" onclick=collapseAll()><span class="lhs-collapse-shape align-middle"><i class="fa fa-chevron-up"></i></span>
<span class="collapse-text align-middle" data-i18n data-i18n-collapse-all>Collapse All</span></span></span></div></div><div class="panel-content p-2" id=left_toc><div class="dropdown collection-dropdown-container w-100"><button class="btn w-100 text-left dropdown-toggle collection-name" type=button id=collectionDropdwnBtn data-toggle=dropdown aria-haspopup=true aria-label="Collection Dropdown" aria-expanded=false>
<span class=label></span>
<span class="float-right icon-down pl-2 fa fa-angle-down"></span></button><div class="dropdown-menu w-100" id=collectionMenu aria-labelledby=collectionDropdwnBtn></div></div><div id=tree class=mt-2></div><div class="w-100 px-2 toc-product-container"><a class="mr-3 my-2 position-relative toc-product-link"><span class=toc-product-name></span>
<span class=localized-page-name>Product Documentation</span></a></div><ul class=rm-default-ul-styles></ul></div></div></div><div class="rhs rhs-container col-md-8 col-lg-7" style=display:block><div class=rhs-top><div class="rhs-top-container-top d-flex flex-row justify-content-between"><div class=primary-header id=page-heading-id></div></div><div class="rhs-top-container-middle d-flex flex-row justify-content-between"></div><div class=rhs-top-container-bottom><div class=last-updated-container><div class=calendar-icon><svg width="36" height="36" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="clr-i-outline clr-i-outline-path-1" d="M32.25 6H29V8h3V30H4V8H7V6H3.75A1.78 1.78.0 002 7.81V30.19A1.78 1.78.0 003.75 32h28.5A1.78 1.78.0 0034 30.19V7.81A1.78 1.78.0 0032.25 6z"/><rect class="clr-i-outline clr-i-outline-path-2" x="8" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-3" x="14" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-4" x="20" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-5" x="26" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-6" x="8" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-7" x="14" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-8" x="20" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-9" x="26" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-10" x="8" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-11" x="14" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-12" x="20" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-13" x="26" y="24" width="2" height="2"/><path class="clr-i-outline clr-i-outline-path-14" d="M10 10a1 1 0 001-1V3A1 1 0 009 3V9a1 1 0 001 1z"/><path class="clr-i-outline clr-i-outline-path-15" d="M26 10a1 1 0 001-1V3a1 1 0 00-2 0V9a1 1 0 001 1z"/><rect class="clr-i-outline clr-i-outline-path-16" x="13" y="6" width="10" height="2"/><rect x="0" y="0" width="36" height="36" fill-opacity="0"/></svg></div><span class=last-updated-label data-i18n-updated-on>Updated on</span>
&nbsp;
<span class=last-updated-date-ph>9/22/22</span></div></div></div><div class="rhs-center article-wrapper" id=content-div-id><h1 id=tanzu-for-kubernetes-operations-saas-integration>Tanzu for Kubernetes Operations SaaS Integration</h1><p>The SaaS products in the VMware Tanzu portfolio are critical components for securing your IT infrastructure. VMware Tanzu Mission Control provides a centralized control plane for Kubernetes, and Tanzu Service Mesh provides a global control plane for service mesh networks. VMware Tanzu Observability by Wavefront offers observability and analytics for multi-cloud Kubernetes environments.</p><p>The following VMware SaaS services provide additional Kubernetes lifecycle management, observability, and service mesh features. This document outlines the configuration needed to set up the VMware SaaS services for Tanzu for Kubernetes operations.</p><ul><li>Tanzu Mission Control (TMC)</li><li>Tanzu Observability (TO)</li><li>Tanzu Service Mesh (TSM)</li></ul><h2 id=tanzu-mission-control>Tanzu Mission Control</h2><p>Tanzu Mission Control is a centralized management platform for consistently operating and securing your Kubernetes infrastructure and modern applications across multiple teams and clouds. It provides operators with a single control point to give developers the independence they need to drive business forward, while enabling consistent management and operations across environments for increased security and governance.</p><h3 id=registering-tanzu-kubernetes-clusters-to-tanzu-mission-control>Registering Tanzu Kubernetes Clusters to Tanzu Mission Control</h3><p>VMware recommends registering Tanzu Kubernetes Grid (TKG) management, shared services and workload clusters in Tanzu Mission Control as it provides a centralized administrative interface for managing your global portfolio of Kubernetes clusters. If the Tanzu Kubernetes Grid clusters are behind a proxy, import the proxy configuration to Tanzu Mission Control and attach the cluster using the Tanzu Mission Control UI or CLI.</p><p>Tanzu Mission Control can assist you with:</p><ul><li><p><strong>Centralized lifecycle management:</strong> Managing the creation and deletion of workload clusters using registered management clusters.</p></li><li><p><strong>Centralized monitoring:</strong> Viewing the inventory of clusters and the health of clusters and their components.</p></li><li><p><strong>Authorization:</strong> Centralized authentication and authorization, with federated identity from multiple sources (for example, AD, LDAP or SAML), plus an easy-to-use policy engine for granting the right access to the right users across teams.</p></li><li><p><strong>Compliance:</strong> Enforcing the same set of polices to all clusters.</p></li><li><p><strong>Data protection:</strong> Using Velero through Tanzu Mission Control to verify that your workloads and persistent volumes are being backed up. For more information about Velero, see the <a href=https://velero.io/>Velero site</a>.</p></li></ul><h3 id=policy-driven-cluster-management>Policy-Driven Cluster Management</h3><p>Tanzu Mission Control allows the creation of policies of various types to manage the operation and security posture of your Kubernetes clusters and other organizational objects.</p><p>Policies provide a set of rules that govern your organization and all the objects it contains. The policy types available in Tanzu Mission Control include the following:</p><ul><li><p>Access Policy: Access policies allow the use of predefined roles to specify which identities (individuals and groups) have what level of access to a given resource. For more information, see <a href=https://docs.vmware.com/en/VMware-Tanzu-Mission-Control/services/tanzumc-concepts/GUID-EB9C6D83-1132-444F-8218-F264E43F25BD.html#GUID-EB9C6D83-1132-444F-8218-F264E43F25BD>Access Control</a>.</p></li><li><p>Image Registry Policy: Image registry policies allow you to specify the source registries from which an image can be pulled.</p></li><li><p>Network Policy: Network policies allow you to use preconfigured templates to define how pods communicate with each other and other network endpoints.</p></li><li><p>Quota Policy: Quota policies allow you to constrain the resources used in your clusters as aggregate quantities across specified namespaces, using pre-configured and custom templates. For more information, see <a href=https://docs.vmware.com/en/VMware-Tanzu-Mission-Control/services/tanzumc-using/GUID-1905352C-856F-4D06-BB86-426F90486C32.html>Managing Resource Consumption</a>.</p></li><li><p>Security Policy: Security policies allow you to manage the security context in which deployed pods operate in your clusters by imposing constraints on your clusters that define what pods can do and which resources they have access to. For more information, see <a href=https://docs.vmware.com/en/VMware-Tanzu-Mission-Control/services/tanzumc-concepts/GUID-6C65B33B-C1EA-465D-B909-3C4F51704C1A.html>Pod Security Management</a>.</p></li><li><p>Custom Policy: Custom policies allow you to implement additional business rules, using templates that you define, to enforce policies that are not already addressed using the other built-in policy types. For more information, see <a href=https://docs.vmware.com/en/VMware-Tanzu-Mission-Control/services/tanzumc-using/GUID-1FF7A1E5-8456-4EF4-A532-9CF31BE88EAA.html>Creating Custom Policies</a>.</p></li></ul><p>Some policies mentioned here are not available in Tanzu Mission Control Standard edition. For more information, see the <a href=https://tanzu.vmware.com/content/tanzu-mission-control/tmc-comparison-chart>VMware Tanzu Mission Control Feature Comparison Chart</a>.</p><h3 id=policy-inheritance>Policy Inheritance</h3><p>In the Tanzu Mission Control resource hierarchy, you can specify policies at the following three levels:</p><ul><li><p>Organization</p></li><li><p>Object groups (cluster groups and workspaces)</p></li><li><p>Kubernetes objects (clusters and namespaces)</p></li></ul><p>In addition to the direct policy defined for a given object, each object also has inherited policies that are defined in the parent objects. For example, a cluster has a direct policy and also has inherited policies from the cluster group and organization to which it is attached.</p><h2 id=observability>Observability</h2><h3 id=metrics-on-premises>Metrics On-Premises</h3><p>Tanzu Kubernetes Grid includes the Prometheus and Grafana packages for monitoring Tanzu Kubernetes Grid cluster metrics.</p><p>You can install Prometheus and Grafana by using Tanzu packages through the Tanzu Mission Control Catalog. For more information, see <a href=../deployment-guides/tkg-package-install.md>Installing Tanzu Packages through TMC</a>.</p><h3 id=metrics-in-tanzu-observability>Metrics in Tanzu Observability</h3><p>Using VMware Tanzu Observability by Wavefront significantly enhances observability. Tanzu Observability is a multi-tenant SaaS application, which collects and displays metrics and trace data from the full-stack platform as well as from applications. The service can create alerts tuned by advanced analytics and assist in the troubleshooting of systems to understand the impact of running production code.</p><p>In the case of vSphere and Tanzu Kubernetes Grid, Tanzu Observability collects data from components in vSphere, from Kubernetes, and from applications running on top of Kubernetes.</p><p>You can configure Tanzu Observability with an array of capabilities. The following table describes the plugins that VMware recommends for this design:</p><table><thead><tr><th><strong>Plugin</strong></th><th><strong>Purpose</strong></th><th><strong>Key Metrics</strong></th><th><strong>Example Metrics</strong></th></tr></thead><tbody><tr><td>Telegraf for vSphere</td><td>Collect metrics from vSphere</td><td>ESXi Server and VM performance & resource utilization</td><td>vSphere VM, Memory and Disk usage and performance</td></tr><tr><td>Wavefront Kubernetes Integration</td><td>Collect metrics from Kubernetes clusters and pods</td><td>Kubernetes container and POD statistics</td><td>POD CPU usage rate<code>DaemonSet</code> ready stats</td></tr><tr><td>Wavefront by VMware for Istio</td><td>Adapts Istio collected metrics and forwards to Wavefront</td><td>Istio metrics including request rates, trace rates, throughput, etc.</td><td>Request rate (Transactions per Second)</td></tr></tbody></table><p>To view and download integrations with prebuilt dashboards that are available in Wavefront, see <a href=https://vmware.wavefront.com/integrations>Integrations</a> on the VMware Tanzu Observability site.</p><h3 id=custom-tanzu-observability-dashboards>Custom Tanzu Observability Dashboards</h3><p>Tanzu Observability provides various out-of-the-box dashboards. You can customize the dashboards for your particular deployment. For information on how to customize Tanzu Observability dashboards for Tanzu for Kubernetes Operations, see <a href=../deployment-guides/tko-to-customized-dashboard.md>Customize Tanzu Observability Dashboard for Tanzu for Kubernetes Operations</a>.</p><h2 id=tanzu-service-mesh-tsm>Tanzu Service Mesh (TSM)</h2><p>Tanzu Service Mesh is VMware’s enterprise-class service mesh solution that provides consistent control and security for microservices, end-users, and data across all your clusters and clouds in the most demanding multi-cluster and multi-cloud environments.</p><p>Key Benefits of Tanzu Service Mesh:</p><ul><li><p>Extends the service mesh capability (discovery, connectivity, control, security, and observability) to users and data.</p></li><li><p>Facilitates the development and management of distributed applications across multiple clusters, multiple clouds, and in hybrid-cloud environments with Global Namespaces, supporting federation across organizational boundaries, technologies, and service meshes.</p></li><li><p>Implement consistent application-layer traffic management and security policies across all your clusters and clouds.</p></li><li><p>Integrate with VMware Tanzu Mission Control, VMware Enterprise PKS, and VMware Tanzu Kubernetes Grid to provide a seamless user experience.</p></li></ul><h2 id=tanzu-service-mesh-architecture>Tanzu Service Mesh Architecture</h2><p>Tanzu Service Mesh has the following architecture at a high level:</p><ul><li><p><strong>Global Controller and Observer:</strong> A collection of microservices that run in VMware SaaS and deliver differentiated control, security, visibility, and autoscaling capabilities.</p></li><li><p><strong>Local Controller:</strong> Local control-plane components operating in each Kubernetes cluster to provide fault tolerance if a cluster loses connection to the Global Controller.</p></li><li><p><strong>Sidecars:</strong> Data-plane components that run in each Kubernetes cluster and handle east-west traffic inside the service mesh.</p></li><li><p><strong>Ingress and Egress Gateways:</strong> Data-plane components that run in each Kubernetes cluster and handle north-south traffic going in and out of the service mesh.</p><p><img src=/img/reference-designs/tko-saas/TSM-Architecture.png alt="Tanzu Service Mesh Architecture"></p></li></ul><h2 id=tanzu-service-mesh-key-concepts>Tanzu Service Mesh Key Concepts</h2><p>The key concepts that distinguish Tanzu Service Mesh as an enterprise-class service mesh solution are as follows:</p><ul><li>Global Namespaces</li><li>Resource Groups</li><li>Clusters</li><li>Nodes</li><li>Services</li><li>Public Services</li></ul><p>To learn more about the key components, refer to the <a href=https://docs.vmware.com/en/VMware-Tanzu-Service-Mesh/services/concepts-guide/GUID-CCD4EDBD-4DBA-449A-B8F9-4128B4F4B473.html>Tanzu Service Mesh product documentation</a></p><h2 id=global-namespace>Global Namespace</h2><p>With global namespaces in Tanzu Service Mesh, you can easily connect and secure the services in your application across clusters. You can add the services in your application to a global namespace to have them automatically discovered and connected across the clusters.</p><p><img src=/img/reference-designs/tko-saas/TSM-Global-Namespace.png alt="Tanzu Service Mesh Global Namespace"></p><p>A Global Namespace connects resources and workloads that form the application into a virtual unit. Each GNS is an isolated domain that provides automatic service discovery and manages the following functions that are part of it, no matter where they are located:</p><ul><li><strong>Identity:</strong> Each global namespace has its own certificate authority (CA) that provisions identities for the resources inside that global namespace</li><li><strong>Discovery (DNS):</strong> The global namespace controls how one resource can locate another and provides a registry.</li><li><strong>Connectivity:</strong> The global namespace defines how communication can be established between resources and how traffic within the global namespace and external to the global namespace is routed between resources.</li><li><strong>Security:</strong> The global namespace manages security for its resources by enforcing that all traffic between the resources is encrypted using Mutual Transport Layer Security authentication (mTLS).</li><li><strong>Observability:</strong> Tanzu Service Mesh aggregates telemetry data, such as metrics for services, clusters, and nodes, inside the global namespace.</li></ul><h1 id=tanzu-service-mesh-key-use-cases>Tanzu Service Mesh Key Use Cases</h1><ul><li><p>Identify Service Dependencies</p><p>The global namespace enables users to view the topology of the services or a cluster as a chart. The topology graph can be used to understand service dependencies and determine the health of the services and the performance metrics related to each service. The topology graph view is generated dynamically by observing the traffic that is flowing between the services in a global namespace or a cluster.</p><p><img src=/img/reference-designs/tko-saas/TSM-App-Connectivity.png alt="Tanzu Service Mesh Service Dependency"></p></li><li><p>Intelligent, graph-aware application resiliency and scalability</p><p>As application usage and traffic increase, Tanzu Service Mesh can automatically scale application instances up and down to ensure that applications perform within the bounds of their SLO policies and meet performance objectives for SLA compliance.</p><p><img src=/img/reference-designs/tko-saas/TSM-Resiliency.png alt="Tanzu Service Mesh Resiliency"></p></li><li><p>Deep application visibility and actionable insights</p><p>Tanzu Service Mesh help teams overcome the performance and security visibility gaps resulting from distributed microservices architectures and adoption of multiple platforms and clouds. Operations teams have access to rich troubleshooting tools, including multi-cloud topology maps and traffic flows, performance and health metrics, and application-to-infrastructure correlation.</p><p><img src=/img/reference-designs/tko-saas/TSM-Observability.png alt="Tanzu Service Mesh Observability"></p></li></ul><h2 id=deployment-instructions>Deployment Instructions</h2><p>For instructions on how to deploy and configure SaaS services, see <a href=../deployment-guides/tko-saas-services.md>Configure Tanzu SaaS Components for Tanzu for Kubernetes Operations</a></p></div></div><div class="loader-container-toc col-lg-2 w-100" style=display:none><span class=spinner></span></div><div class="rhs-right-container d-none d-lg-block col-lg-2"><div class=rhs-right-panel><div class="rhs-right-panel-header d-flex justify-content-between"><div class=rhs-right-panel-title>In this article</div></div><div id=right-toc-div-id class="onpage-toc-container d-flex flex-column"><nav id=TableOfContents><ul><li><a href=#tanzu-mission-control>Tanzu Mission Control</a><ul><li><a href=#registering-tanzu-kubernetes-clusters-to-tanzu-mission-control>Registering Tanzu Kubernetes Clusters to Tanzu Mission Control</a></li><li><a href=#policy-driven-cluster-management>Policy-Driven Cluster Management</a></li><li><a href=#policy-inheritance>Policy Inheritance</a></li></ul></li><li><a href=#observability>Observability</a><ul><li><a href=#metrics-on-premises>Metrics On-Premises</a></li><li><a href=#metrics-in-tanzu-observability>Metrics in Tanzu Observability</a></li><li><a href=#custom-tanzu-observability-dashboards>Custom Tanzu Observability Dashboards</a></li></ul></li><li><a href=#tanzu-service-mesh-tsm>Tanzu Service Mesh (TSM)</a></li><li><a href=#tanzu-service-mesh-architecture>Tanzu Service Mesh Architecture</a></li><li><a href=#tanzu-service-mesh-key-concepts>Tanzu Service Mesh Key Concepts</a></li><li><a href=#global-namespace>Global Namespace</a></li></ul><ul><li><a href=#deployment-instructions>Deployment Instructions</a></li></ul></nav></div></div></div></section></div><footer class=tech-pub-footer><div id=page-footer><section class="footer-component footer-container"><div class=personalization_div_1 style=min-height:1px></div><div class=personalization_div_2 style=min-height:1px></div><div class=container><div class=content><div class=row><div class="col-lg-12 col-md-12"><footer class=footer><div class=row><div class="col-lg-2 col-md-12 mb-40 mt-3"><a class=footer-vmware-logo href=https://www-lt.vmware.com/ name="nav_footer : VMware Logo"><picture class=float-lg-left><source media=(max-width:800px) srcset=https://www-lt.vmware.com/content/dam/digitalmarketing/vmware/vm-logo-big.png.imgo.jpeg><img loading=lazy class=vmware-logo src=/img/vm-logo-big.png alt=VMware title=VMware></picture></a></div></div></footer></div></div></div></div></section></div></footer><script src=/js/pageStore.js></script>
<script src=/js/main.js></script></body></html>