<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta name="last modified" content="27/09/2021 12:47:24"><meta name=abstract content><meta name=author content="dpavel@vmware.com"><meta name=primary-product-name content="MD2Docs-TestBed"><meta name=primary-product-version content="1"><meta name=description content><meta name=guid content="GUID-1Intro"><meta name=language content="en"><meta name=title content="Basic Markdown"><meta name=publication-author content="dpavel@vmware.com"><meta property="og:title" content="Basic Markdown"><meta property="og:image" content="https://docs-uat.vmware.com/uicontent/images/vmware-docs-default.png"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:locale" content="en"><meta property="og:url" content="https://docs-uat-staging.vmware.com/en/MD2Docs-TestBed/1/md-2-docs-test-bed/GUID-1Intro.html"><meta name=cdf-utag content="https://tags.tiqcdn.com/utag/vmware/cdf-privacy/qa/utag.js"><link rel=stylesheet type=text/css href=/css/commonltr.css><link rel=stylesheet type=text/css href=/css/non-draft.vmware.productdocs.css><link rel=canonical href=https://docs-uat-staging.vmware.com/en/MD2Docs-TestBed/1/md-2-docs-test-bed/GUID-1Intro.html><link class=user href=/css/responsive.css rel=stylesheet type=text/css><link rel=icon href=https://www.vmware.com/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/v2-global.20200911172508.css><title>Docs Preview</title></head><body><header class=tech-pub-header><div id=header class="global-header col-12"><div class="row desktop-header h-100"><div class="col col-md-3 align-self-center header-logo-wrapper"><div class="d-inline-flex align-items-center justify-content-start w-100"><div class="d-inline-flex align-items-center w-100"><span class="my-auto d-md-none header-menu-icon"><i class="fa fa-bars"></i></span><h1><a href=https://docs-uat-staging.vmware.com/ class="d-inline-flex align-items-center my-auto nav-link header-logo-url pl-md-1 pl-xl-3"><span class=mr-2><img src=/img/vm-logo.png alt="VMware Logo"></span>
<span class=vm-logo-title>Docs Preview</span></a></h1></div><div class=align-items-center><span id=toggleTOC class="d-md-none header-toc-icon"><i class="fa fa-ellipsis-v px-2"></i></span></div></div></div></div></div><div class="col-12 vmware-gradient w-100 px-0 mx-0"></div></header><div class="tech-pub-container main-container d-flex flex-column pubView"><section class="tech-pub-section d-flex flex-md-row"><div class="lhs lhs-container col-md-4 col-lg-3" style=display:block><div class=backdrop></div><div class=left-panel><div class="panel-header position-relative hidden-xs"><div class="panel-header-left d-flex justify-content-between align-items-center"><span class=container-collapse-expand><span id=expand-all-id class=expand-tree onclick=expandAll()><span class="lhs-expand-shape align-middle"><i class="fa fa-chevron-down"></i></span>
<span class="expand-text align-middle" data-i18n data-i18n-expand-all>Expand All</span></span>
<span id=collapse-all-id class="collapse-tree hide" onclick=collapseAll()><span class="lhs-collapse-shape align-middle"><i class="fa fa-chevron-up"></i></span>
<span class="collapse-text align-middle" data-i18n data-i18n-collapse-all>Collapse All</span></span></span></div></div><div class="panel-content p-2" id=left_toc><div class="dropdown collection-dropdown-container w-100"><button class="btn w-100 text-left dropdown-toggle collection-name" type=button id=collectionDropdwnBtn data-toggle=dropdown aria-haspopup=true aria-label="Collection Dropdown" aria-expanded=false>
<span class=label></span>
<span class="float-right icon-down pl-2 fa fa-angle-down"></span></button><div class="dropdown-menu w-100" id=collectionMenu aria-labelledby=collectionDropdwnBtn></div></div><div id=tree class=mt-2></div><div class="w-100 px-2 toc-product-container"><a class="mr-3 my-2 position-relative toc-product-link"><span class=toc-product-name></span>
<span class=localized-page-name>Product Documentation</span></a></div><ul class=rm-default-ul-styles></ul></div></div></div><div class="rhs rhs-container col-md-8 col-lg-7" style=display:block><div class=rhs-top><div class="rhs-top-container-top d-flex flex-row justify-content-between"><div class=primary-header id=page-heading-id></div></div><div class="rhs-top-container-middle d-flex flex-row justify-content-between"></div><div class=rhs-top-container-bottom><div class=last-updated-container><div class=calendar-icon><svg width="36" height="36" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="clr-i-outline clr-i-outline-path-1" d="M32.25 6H29V8h3V30H4V8H7V6H3.75A1.78 1.78.0 002 7.81V30.19A1.78 1.78.0 003.75 32h28.5A1.78 1.78.0 0034 30.19V7.81A1.78 1.78.0 0032.25 6z"/><rect class="clr-i-outline clr-i-outline-path-2" x="8" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-3" x="14" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-4" x="20" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-5" x="26" y="14" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-6" x="8" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-7" x="14" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-8" x="20" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-9" x="26" y="19" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-10" x="8" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-11" x="14" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-12" x="20" y="24" width="2" height="2"/><rect class="clr-i-outline clr-i-outline-path-13" x="26" y="24" width="2" height="2"/><path class="clr-i-outline clr-i-outline-path-14" d="M10 10a1 1 0 001-1V3A1 1 0 009 3V9a1 1 0 001 1z"/><path class="clr-i-outline clr-i-outline-path-15" d="M26 10a1 1 0 001-1V3a1 1 0 00-2 0V9a1 1 0 001 1z"/><rect class="clr-i-outline clr-i-outline-path-16" x="13" y="6" width="10" height="2"/><rect x="0" y="0" width="36" height="36" fill-opacity="0"/></svg></div><span class=last-updated-label data-i18n-updated-on>Updated on</span>
&nbsp;
<span class=last-updated-date-ph>9/22/22</span></div></div></div><div class="rhs-center article-wrapper" id=content-div-id><h1 id=deploy-user-managed-packages-in-workload-clusters>Deploy User-Managed Packages in Workload Clusters</h1><p>After creating workload clusters, you can install user-managed packages. These packages extend the core functionality of the Kubernetes clusters created by Tanzu Kubernetes Grid.</p><p>For example, you can install the Contour package to implement ingress control, the Harbor package to configure a private container registry, or the Fluent Bit, Grafana, and Prometheus packages to collect logs and metrics from your clusters.</p><p>You can install Tanzu packages via the CLI by invoking the <code>tanzu package install</code> command or directly from Tanzu Mission Control by utilizing the <a href=https://docs.vmware.com/en/VMware-Tanzu-Mission-Control/services/tanzumc-using/GUID-EF35646D-8762-41F1-95E5-D2F35ED71BA1.html><strong>TMC Catalog</strong></a> feature.</p><h2 id=general-instructions-for-installing-a-package-from-tanzu-mission-control>General Instructions for Installing a Package from Tanzu Mission Control</h2><p>VMware recommends installing packages on Tanzu Kubernetes clusters through Tanzu Mission Control. The general procedure for using Tanzu Mission Control to install a single package on a particular cluster is as follows:</p><ol><li>Log in to the Tanzu Mission Control portal and go to the <strong>Catalog</strong> page. On the <strong>Available</strong> tab, you&rsquo;ll see a set of tiles that represent the packages available for installation.</li></ol><p><img src=img/tanzu-pkgs/tanzu-pkgs01.png alt="Tanzu Mission Control Catalog page showing available packages"></p><ol><li>From the dropdown list of clusters under <strong>Available packages for cluster</strong>, select the cluster on which to install a package.</li><li>Select the package to install.</li><li>On the package details screen for that package, click <strong>Install Package</strong>.</li><li>Configure the package. (Details for configuring common packages follow.)</li><li>Verify that the package is shown in the list of installed packages for that cluster and that the package <strong>Status</strong> is <strong>Succeeded</strong>.</li></ol><h3 id=install-cert-manager>Install Cert-Manager</h3><p>The first package that you should install on your cluster is <a href=https://github.com/cert-manager/cert-manager><strong>cert-manager</strong></a>. This package adds certificates and certificate issuers as resource types in Kubernetes clusters and simplifies the process of obtaining, renewing, and using those certificates.</p><p>Click the cert-manager package tile on the <strong>Catalog page</strong> to navigate to the install package page. Click <strong>Install Package</strong> to navigate to the package details page. The package details page shows the metadata provided by the package author.</p><p>On the package details page, click <strong>Install Package</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs02.png alt="Screenshot of the cert-manager package details page"></p><p>On the <strong>Install</strong> page, provide a name for the installed instance of the package and select the version to install. You can customize the package installation by using the pencil icon under the Table View option to edit the configuration parameters.</p><p>After supplying any custom parameters, click <strong>Install Package</strong> to initiate the installation.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs03.png alt="Screenshot of the cert-manager install screen"></p><p>After installing cert-manager, ensure that the installation status for the cert-manager package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs04.png alt="Screenshot showing list of installed packages"></p><h3 id=install-contour>Install Contour</h3><p><a href=https://projectcontour.io/>Contour</a> is an open-source Kubernetes ingress controller providing the control plane for the Envoy edge and service proxy.​ The Tanzu Mission Control catalog includes signed binaries for Contour and Envoy, which you can deploy into Tanzu Kubernetes (workload) clusters to provide ingress control services in those clusters.</p><p>To install the Contour package, click <strong>Browse Packages</strong> and <strong>click the Contour tile on the Catalog page</strong>.</p><p>Click <strong>Install Package</strong> to initiate the installation.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs05.png alt="Screenshot of Contour package details screen"></p><p>Provide a name for the installed package and select the version that you want to install. You can customize your installation by entering the user-configurable values in YAML format under the <strong>Overlay YAML</strong> option.</p><p>An example YAML file for customizing the installation of Contour follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>infrastructure_provider</span>: <span style=color:#ae81ff>vsphere</span>
</span></span><span style=display:flex><span><span style=color:#f92672>contour</span>:
</span></span><span style=display:flex><span> <span style=color:#f92672>configFileContents</span>: {}
</span></span><span style=display:flex><span> <span style=color:#f92672>useProxyProtocol</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>pspNames</span>: <span style=color:#e6db74>&#34;vmware-system-privileged&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>envoy</span>:
</span></span><span style=display:flex><span> <span style=color:#f92672>service</span>:
</span></span><span style=display:flex><span>   <span style=color:#f92672>type</span>: <span style=color:#ae81ff>LoadBalancer</span>
</span></span><span style=display:flex><span>   <span style=color:#f92672>disableWait</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>hostPorts</span>:
</span></span><span style=display:flex><span>   <span style=color:#f92672>enable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>hostNetwork</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>pspNames</span>: <span style=color:#e6db74>&#34;vmware-system-privileged&#34;</span>
</span></span></code></pre></div><p>For a full list of user-configurable values, see the official Contour <a href=https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-packages-ingress-contour.html#optional-configuration-6>documentation</a></p><p><strong>Note:</strong> You can leave the default settings if you don’t need to customize the package installation.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs06.png alt="Screenshot of the Contour installation screen showing a YAML overlay file"></p><p>After installing Contour, ensure that the installation status for the Contour package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs07.png alt="Screenshot showing successful installation of Contour"></p><h3 id=install-harbor>Install Harbor</h3><p><a href=https://goharbor.io/>Harbor</a> is an open-source container registry. The Harbor registry may be used as a private registry for container images that you want to deploy to Tanzu Kubernetes clusters.</p><p>To install the Harbor package, repeat the steps for package installation. An example YAML file for customizing Harbor deployment follows.</p><p><strong>Note</strong>: you will need to provide credentials where indicated.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>hostname</span>: <span style=color:#ae81ff>registry.tanzu.lab</span>
</span></span><span style=display:flex><span><span style=color:#f92672>enableContourHttpProxy</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>harborAdminPassword</span>: <span style=color:#ae81ff>&lt;insert harborAdminPassword&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>secretKey</span>: <span style=color:#ae81ff>&lt;insert secretKey&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>database</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>password</span>: <span style=color:#ae81ff>&lt;insert database.password&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>core</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>secret</span>: <span style=color:#ae81ff>&lt;insert core.secret&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>xsrfKey</span>: <span style=color:#ae81ff>&lt;insert core.xsrfKey&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobservice</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>secret</span>: <span style=color:#ae81ff>&lt;insert jobservice.secret&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>registry</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>secret</span>: <span style=color:#ae81ff>&lt;insert registry.secret&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>notary</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>trivy</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>skipUpdate</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>false</span>
</span></span></code></pre></div><p>For a full list of user-configurable values, see the official <a href=https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-packages-harbor-registry.html#harbordatavalues-file-for-vsphere-7-11>Harbor documentation</a></p><p>A screenshot of the Harbor installation page showing a YAML file for customizing Harbor installation follows.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs08.png alt="Screenshot of Harbor installation page showing a sample YAML customization file"></p><p>After installing Harbor, ensure that the installation status for the Harbor package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs09.png alt="Screenshot showing successful installation of Harbor"></p><h3 id=install-prometheus>Install Prometheus</h3><p><a href=https://prometheus.io/>Prometheus</a> is a system and service monitoring system. It collects metrics from configured targets at given intervals, evaluates rule expressions, displays the results, and can trigger alerts if certain conditions occur. The Prometheus Alertmanager handles alerts generated by Prometheus and routes them to their receiving endpoints.</p><p>To install the Prometheus package, repeat the steps for package installation. An example YAML file for customizing Prometheus deployment follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>tanzu-system-dashboards</span>
</span></span><span style=display:flex><span><span style=color:#f92672>prometheus</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>service</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>LoadBalancer</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>pvc</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>storageClassName</span>: <span style=color:#e6db74>&#34;vsan-default-storage-policy&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>ingress</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>virtual_host_fqdn</span>: <span style=color:#e6db74>&#34;prometheus.tanzu.lab&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>node_exporter</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>daemonset</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>hostNetwork</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>alertmanager</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>pvc</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>storageClassName</span>: <span style=color:#e6db74>&#34;vsan-default-storage-policy&#34;</span>
</span></span></code></pre></div><p>For a full list of user-configurable values, see the official <a href=https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-packages-prometheus.html#review-configuration-parameters-9>Prometheus documentation</a></p><p>An example screenshot of a customized Prometheus installation follows.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs10.png alt="Screenshot showing customized Prometheus installation"></p><p>After installing Prometheus, ensure that the installation status for the Prometheus package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs11.png alt="Screenshot showing successful installation of Prometheus"></p><h3 id=install-grafana>Install Grafana</h3><p><a href=https://grafana.com/>Grafana</a> allows you to query, visualize, alert on, and explore metrics no matter where they are stored. Grafana provides tools to form graphs and visualizations from application data.</p><p>To install the Grafana package, repeat the steps for the package installation. An example YAML file for customizing Grafana deployment follows.</p><p><strong>Note:</strong> By default, Grafana is configured to use Prometheus as its data source. If you have customized the Prometheus deployment namespace and Prometheus is not deployed in the default namespace, <strong>tanzu-system-monitoring</strong>, you must change the Grafana data source configuration as shown in the YAML code that follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>ingress</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>virtual_host_fqdn</span>: <span style=color:#ae81ff>grafana.tanzu.lab</span>
</span></span><span style=display:flex><span><span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>tanzu-system-monitoring</span>
</span></span></code></pre></div><p>For a full list of user-configurable values, see the official [Grafana documentation]https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-packages-grafana.html#grafana-package-configuration-parameters-5)</p><p>An example screenshot for customizing your Grafana installation follows.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs12.png alt="Screenshot of Install Grafana screen showing custom YAML file"></p><p>After installing Grafana, ensure that the installation status for the Grafana package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs13.png alt="Screenshot showing successful installation of Grafana"></p><h3 id=install-fluent-bit>Install Fluent Bit</h3><p><a href=https://fluentbit.io/>Fluent Bit</a> is a lightweight log processor and forwarder that allows you to collect data and logs from different sources, unify them, and send them to multiple destinations.</p><p>You can use Fluent Bit to gather logs from management clusters or Tanzu Kubernetes clusters running in vSphere, Amazon EC2, and Azure. You can then forward them to a log storage provider such as <a href=https://www.elastic.co/>Elastic Search</a>, <a href=https://www.confluent.io/confluent-operator/>Kafka</a>, <a href=https://www.splunk.com/>Splunk</a>, or an HTTP endpoint.</p><p>The example shown in this document uses an HTTP endpoint <a href=https://docs.vmware.com/en/VMware-vRealize-Log-Insight-Cloud/index.html>vRealize Log Insight Cloud</a> for forwarding logs from Tanzu Kubernetes clusters.</p><p>A sample YAML file for configuring an http endpoint with Fluent Bit is provided as a reference here. For a full list of user-configurable values, see the official <a href=https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-packages-logging-fluentbit.html#fluent-bit-package-configuration-parameters-4>Fluent Bit documentation</a>.</p><p>Before you add the following YAML code in TMC for installing Fluent Bit, you must <a href=https://vmc.techzone.vmware.com/resource/implement-centralized-logging-tanzu-kubernetes-grid-fluent-bit>create an API key</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>namespace</span>: <span style=color:#e6db74>&#34;tanzu-system-logging&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>fluent_bit</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>config</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>service</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      [Service]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Flush         1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Log_Level     info
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Daemon        off
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Parsers_File  parsers.conf
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        HTTP_Server   On
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        HTTP_Listen   0.0.0.0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        HTTP_Port     2020</span>      
</span></span><span style=display:flex><span>    <span style=color:#f92672>outputs</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      [OUTPUT]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Name            http
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Match           *
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Host            data.mgmt.cloud.vmware.com
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Port            443
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        URI             /le-mans/v1/streams/ingestion-pipeline-stream
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Header          Authorization Bearer &lt;insert bearer token&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Format          json
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        tls             On
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        tls.verify      off</span>      
</span></span><span style=display:flex><span>    <span style=color:#f92672>inputs</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      [INPUT]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Name tail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Path /var/log/containers/*.log</span>      
</span></span></code></pre></div><p>An example screenshot for fluent-bit installation follows.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs14.png alt="Screenshot showing Fluent Bit installation"></p><p>After installing Fluent Bit, ensure that the installation status for the Fluent Bit package on the <strong>Installed Packages</strong> screen has changed to <strong>Successful</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs15.png alt="Screenshot showing successful installation of Fluent Bit"></p><h3 id=install-multus-cni>Install Multus CNI</h3><p><a href=https://github.com/k8snetworkplumbingwg/multus-cni>Multus CNI</a> is a container network interface (CNI) plugin for Kubernetes that enables attaching multiple network interfaces to pods. With Multus CNI, you can create a multi-homed pod with multiple interfaces.</p><p>To install the Multus CNI package, repeat the steps for the package installation. An example screenshot for Multus CNI installation follows.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs16.png alt="Screenshot showing Multus CNI installation"></p><p>After installing Multus CNI, ensure that the installation status for the Multus CNI package on the <strong>Installed Packages</strong> screen is <strong>Succeeded</strong>.</p><p><img src=img/tanzu-pkgs/tanzu-pkgs17.png alt="Screenshot showing successful installation of Multus CNI"></p></div></div><div class="loader-container-toc col-lg-2 w-100" style=display:none><span class=spinner></span></div><div class="rhs-right-container d-none d-lg-block col-lg-2"><div class=rhs-right-panel><div class="rhs-right-panel-header d-flex justify-content-between"><div class=rhs-right-panel-title>In this article</div></div><div id=right-toc-div-id class="onpage-toc-container d-flex flex-column"><nav id=TableOfContents><ul><li><a href=#general-instructions-for-installing-a-package-from-tanzu-mission-control>General Instructions for Installing a Package from Tanzu Mission Control</a><ul><li><a href=#install-cert-manager>Install Cert-Manager</a></li><li><a href=#install-contour>Install Contour</a></li><li><a href=#install-harbor>Install Harbor</a></li><li><a href=#install-prometheus>Install Prometheus</a></li><li><a href=#install-grafana>Install Grafana</a></li><li><a href=#install-fluent-bit>Install Fluent Bit</a></li><li><a href=#install-multus-cni>Install Multus CNI</a></li></ul></li></ul></nav></div></div></div></section></div><footer class=tech-pub-footer><div id=page-footer><section class="footer-component footer-container"><div class=personalization_div_1 style=min-height:1px></div><div class=personalization_div_2 style=min-height:1px></div><div class=container><div class=content><div class=row><div class="col-lg-12 col-md-12"><footer class=footer><div class=row><div class="col-lg-2 col-md-12 mb-40 mt-3"><a class=footer-vmware-logo href=https://www-lt.vmware.com/ name="nav_footer : VMware Logo"><picture class=float-lg-left><source media=(max-width:800px) srcset=https://www-lt.vmware.com/content/dam/digitalmarketing/vmware/vm-logo-big.png.imgo.jpeg><img loading=lazy class=vmware-logo src=/img/vm-logo-big.png alt=VMware title=VMware></picture></a></div></div></footer></div></div></div></div></section></div></footer><script src=/js/pageStore.js></script>
<script src=/js/main.js></script></body></html>